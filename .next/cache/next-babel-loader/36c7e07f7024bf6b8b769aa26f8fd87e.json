{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { MenuOutlined } from '@ant-design/icons';\nimport PropTypes from 'prop-types';\n\n// antd components\nimport Menu from 'antd/lib/menu';\nimport Layout from 'antd/lib/layout';\nimport Drawer from 'antd/lib/drawer';\nimport { links } from './links';\nconst {\n  SubMenu\n} = Menu;\nconst {\n  Sider\n} = Layout;\nfunction getWindowDimensions() {\n  const {\n    innerWidth: width,\n    innerHeight: height\n  } = window;\n  return {\n    width,\n    height\n  };\n}\nfunction useWindowDimensions() {\n  const {\n    0: windowDimensions,\n    1: setWindowDimensions\n  } = useState(getWindowDimensions());\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n    }\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n  return windowDimensions;\n}\nconst Sidebar = ({\n  selected,\n  children,\n  isAdmin\n}) => {\n  const {\n    0: sidebarVisible,\n    1: setSidebarVisible\n  } = useState(false);\n  const {\n    width\n  } = useWindowDimensions();\n  let selectedKeys = selected ? selected.slice(1).split('/') : [];\n  selectedKeys.length > 0 ? selectedKeys = selectedKeys.map((e, i) => {\n    if (i !== 0) {\n      return selectedKeys[i - 1] + '-' + e;\n    }\n    return e;\n  }) : [];\n  const getMenuItem = (link, label, icon, key) => __jsx(Menu.Item, {\n    key: key\n  }, __jsx(Link, {\n    href: link\n  }, __jsx(\"a\", {\n    style: {\n      textDecoration: 'none'\n    }\n  }, icon, \" \", label)));\n  const menu = __jsx(Menu, {\n    mode: \"inline\",\n    selectedKeys: selectedKeys,\n    defaultOpenKeys: selectedKeys,\n    style: {\n      height: '100vh'\n    },\n    theme: \"dark\"\n  }, __jsx(\"div\", {\n    className: \"text-center my-4\"\n  }, __jsx(\"img\", {\n    src: \"/static/images/cms_logo.png\",\n    style: {\n      width: '80%'\n    },\n    alt: \"CMS Logo\"\n  })), links.map(i => isAdmin || i.adminExclusive === undefined ? i.items ? __jsx(SubMenu, {\n    key: i.key,\n    title: __jsx(\"div\", null, i.icon, \" \", i.title)\n  }, i.items.map(e => getMenuItem(`/${i.key}/${e.key}`, e.title, e.icon, `${i.key}-${e.key}`))) : getMenuItem(i.key !== '/' ? `/${i.key}` : '/', i.title, i.icon, `${i.key}`) : null));\n  const navbar = __jsx(\"div\", {\n    className: \"navbar navbar-light bg-light p-2\"\n  }, __jsx(\"div\", {\n    className: \"row m-0 w-100 p-2\"\n  }, width < 600 ? __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"col-2 d-flex align-items-center\"\n  }, __jsx(MenuOutlined, {\n    style: {\n      fontSize: '1.5rem'\n    },\n    onClick: () => setSidebarVisible(true)\n  })), __jsx(\"div\", {\n    className: \"col d-flex align-items-center\"\n  }, __jsx(\"img\", {\n    src: \"/static/images/cms_logo.png\",\n    style: {\n      height: '5vh'\n    },\n    alt: \"CMS Logo\"\n  }))) : null), __jsx(Drawer, {\n    placement: \"left\",\n    closable: true,\n    onClose: () => setSidebarVisible(false),\n    visible: sidebarVisible,\n    bodyStyle: {\n      padding: 0\n    }\n  }, menu));\n  return width > 600 ? __jsx(Layout, null, __jsx(Sider, {\n    style: {\n      overflow: 'auto',\n      height: '100vh',\n      position: 'fixed',\n      left: 0\n    },\n    width: 230\n  }, menu), __jsx(Layout, {\n    style: {\n      marginLeft: 230\n    }\n  }, children)) : __jsx(\"div\", null, navbar, __jsx(\"div\", {\n    className: \"page-container\"\n  }, children));\n};\nSidebar.propTypes = {\n  isAdmin: PropTypes.bool,\n  children: PropTypes.node,\n  selected: PropTypes.string\n};\nexport default Sidebar;","map":{"version":3,"names":["React","useState","useEffect","Link","MenuOutlined","PropTypes","Menu","Layout","Drawer","links","SubMenu","Sider","getWindowDimensions","innerWidth","width","innerHeight","height","window","useWindowDimensions","windowDimensions","setWindowDimensions","handleResize","addEventListener","removeEventListener","Sidebar","selected","children","isAdmin","sidebarVisible","setSidebarVisible","selectedKeys","slice","split","length","map","e","i","getMenuItem","link","label","icon","key","__jsx","Item","href","style","textDecoration","menu","mode","defaultOpenKeys","theme","className","src","alt","adminExclusive","undefined","items","title","navbar","Fragment","fontSize","onClick","placement","closable","onClose","visible","bodyStyle","padding","overflow","position","left","marginLeft","propTypes","bool","node","string"],"sources":["/home/ash/react projects/amFOSS-webapp/components/sidebar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { MenuOutlined } from '@ant-design/icons';\nimport PropTypes from 'prop-types';\n\n// antd components\nimport Menu from 'antd/lib/menu';\nimport Layout from 'antd/lib/layout';\nimport Drawer from 'antd/lib/drawer';\n\nimport { links } from './links';\n\nconst { SubMenu } = Menu;\nconst { Sider } = Layout;\n\nfunction getWindowDimensions() {\n  const { innerWidth: width, innerHeight: height } = window;\n  return {\n    width,\n    height,\n  };\n}\n\nfunction useWindowDimensions() {\n  const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n    }\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  return windowDimensions;\n}\n\nconst Sidebar = ({ selected, children, isAdmin }) => {\n  const [sidebarVisible, setSidebarVisible] = useState(false);\n  const { width } = useWindowDimensions();\n\n  let selectedKeys = selected ? selected.slice(1).split('/') : [];\n  selectedKeys.length > 0\n    ? (selectedKeys = selectedKeys.map((e, i) => {\n        if (i !== 0) {\n          return selectedKeys[i - 1] + '-' + e;\n        }\n        return e;\n      }))\n    : [];\n\n  const getMenuItem = (link, label, icon, key) => (\n    <Menu.Item key={key}>\n      <Link href={link}>\n        <a style={{ textDecoration: 'none' }}>\n          {icon} {label}\n        </a>\n      </Link>\n    </Menu.Item>\n  );\n\n  const menu = (\n    <Menu\n      mode=\"inline\"\n      selectedKeys={selectedKeys}\n      defaultOpenKeys={selectedKeys}\n      style={{ height: '100vh' }}\n      theme=\"dark\"\n    >\n      <div className=\"text-center my-4\">\n        <img\n          src=\"/static/images/cms_logo.png\"\n          style={{ width: '80%' }}\n          alt=\"CMS Logo\"\n        />\n      </div>\n      {links.map((i) =>\n        isAdmin || i.adminExclusive === undefined ? (\n          i.items ? (\n            <SubMenu\n              key={i.key}\n              title={\n                <div>\n                  {i.icon} {i.title}\n                </div>\n              }\n            >\n              {i.items.map((e) =>\n                getMenuItem(\n                  `/${i.key}/${e.key}`,\n                  e.title,\n                  e.icon,\n                  `${i.key}-${e.key}`\n                )\n              )}\n            </SubMenu>\n          ) : (\n            getMenuItem(\n              i.key !== '/' ? `/${i.key}` : '/',\n              i.title,\n              i.icon,\n              `${i.key}`\n            )\n          )\n        ) : null\n      )}\n    </Menu>\n  );\n\n  const navbar = (\n    <div className=\"navbar navbar-light bg-light p-2\">\n      <div className=\"row m-0 w-100 p-2\">\n        {width < 600 ? (\n          <React.Fragment>\n            <div className=\"col-2 d-flex align-items-center\">\n              <MenuOutlined\n                style={{ fontSize: '1.5rem' }}\n                onClick={() => setSidebarVisible(true)}\n              />\n            </div>\n            <div className=\"col d-flex align-items-center\">\n              <img\n                src=\"/static/images/cms_logo.png\"\n                style={{ height: '5vh' }}\n                alt=\"CMS Logo\"\n              />\n            </div>\n          </React.Fragment>\n        ) : null}\n      </div>\n      <Drawer\n        placement=\"left\"\n        closable\n        onClose={() => setSidebarVisible(false)}\n        visible={sidebarVisible}\n        bodyStyle={{ padding: 0 }}\n      >\n        {menu}\n      </Drawer>\n    </div>\n  );\n\n  return width > 600 ? (\n    <Layout>\n      <Sider\n        style={{\n          overflow: 'auto',\n          height: '100vh',\n          position: 'fixed',\n          left: 0,\n        }}\n        width={230}\n      >\n        {menu}\n      </Sider>\n      <Layout style={{ marginLeft: 230 }}>{children}</Layout>\n    </Layout>\n  ) : (\n    <div>\n      {navbar}\n      <div className=\"page-container\">{children}</div>\n    </div>\n  );\n};\n\nSidebar.propTypes = {\n  isAdmin: PropTypes.bool,\n  children: PropTypes.node,\n  selected: PropTypes.string,\n};\n\nexport default Sidebar;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,IAAI,MAAM,WAAW;AAC5B,SAASC,YAAY,QAAQ,mBAAmB;AAChD,OAAOC,SAAS,MAAM,YAAY;;AAElC;AACA,OAAOC,IAAI,MAAM,eAAe;AAChC,OAAOC,MAAM,MAAM,iBAAiB;AACpC,OAAOC,MAAM,MAAM,iBAAiB;AAEpC,SAASC,KAAK,QAAQ,SAAS;AAE/B,MAAM;EAAEC;AAAQ,CAAC,GAAGJ,IAAI;AACxB,MAAM;EAAEK;AAAM,CAAC,GAAGJ,MAAM;AAExB,SAASK,mBAAmBA,CAAA,EAAG;EAC7B,MAAM;IAAEC,UAAU,EAAEC,KAAK;IAAEC,WAAW,EAAEC;EAAO,CAAC,GAAGC,MAAM;EACzD,OAAO;IACLH,KAAK;IACLE;EACF,CAAC;AACH;AAEA,SAASE,mBAAmBA,CAAA,EAAG;EAC7B,MAAM;IAAA,GAACC,gBAAgB;IAAA,GAAEC;EAAmB,IAAInB,QAAQ,CAACW,mBAAmB,EAAE,CAAC;EAE/EV,SAAS,CAAC,MAAM;IACd,SAASmB,YAAYA,CAAA,EAAG;MACtBD,mBAAmB,CAACR,mBAAmB,EAAE,CAAC;IAC5C;IAEAK,MAAM,CAACK,gBAAgB,CAAC,QAAQ,EAAED,YAAY,CAAC;IAC/C,OAAO,MAAMJ,MAAM,CAACM,mBAAmB,CAAC,QAAQ,EAAEF,YAAY,CAAC;EACjE,CAAC,EAAE,EAAE,CAAC;EAEN,OAAOF,gBAAgB;AACzB;AAEA,MAAMK,OAAO,GAAGA,CAAC;EAAEC,QAAQ;EAAEC,QAAQ;EAAEC;AAAQ,CAAC,KAAK;EACnD,MAAM;IAAA,GAACC,cAAc;IAAA,GAAEC;EAAiB,IAAI5B,QAAQ,CAAC,KAAK,CAAC;EAC3D,MAAM;IAAEa;EAAM,CAAC,GAAGI,mBAAmB,EAAE;EAEvC,IAAIY,YAAY,GAAGL,QAAQ,GAAGA,QAAQ,CAACM,KAAK,CAAC,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,GAAG,EAAE;EAC/DF,YAAY,CAACG,MAAM,GAAG,CAAC,GAClBH,YAAY,GAAGA,YAAY,CAACI,GAAG,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;IACzC,IAAIA,CAAC,KAAK,CAAC,EAAE;MACX,OAAON,YAAY,CAACM,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,GAAGD,CAAC;IACtC;IACA,OAAOA,CAAC;EACV,CAAC,CAAC,GACF,EAAE;EAEN,MAAME,WAAW,GAAGA,CAACC,IAAI,EAAEC,KAAK,EAAEC,IAAI,EAAEC,GAAG,KACzCC,KAAA,CAACpC,IAAI,CAACqC,IAAI;IAACF,GAAG,EAAEA;EAAI,GAClBC,KAAA,CAACvC,IAAI;IAACyC,IAAI,EAAEN;EAAK,GACfI,KAAA;IAAGG,KAAK,EAAE;MAAEC,cAAc,EAAE;IAAO;EAAE,GAClCN,IAAI,OAAGD,KAAK,CACX,CACC,CAEV;EAED,MAAMQ,IAAI,GACRL,KAAA,CAACpC,IAAI;IACH0C,IAAI,EAAC,QAAQ;IACblB,YAAY,EAAEA,YAAa;IAC3BmB,eAAe,EAAEnB,YAAa;IAC9Be,KAAK,EAAE;MAAE7B,MAAM,EAAE;IAAQ,CAAE;IAC3BkC,KAAK,EAAC;EAAM,GAEZR,KAAA;IAAKS,SAAS,EAAC;EAAkB,GAC/BT,KAAA;IACEU,GAAG,EAAC,6BAA6B;IACjCP,KAAK,EAAE;MAAE/B,KAAK,EAAE;IAAM,CAAE;IACxBuC,GAAG,EAAC;EAAU,EACd,CACE,EACL5C,KAAK,CAACyB,GAAG,CAAEE,CAAC,IACXT,OAAO,IAAIS,CAAC,CAACkB,cAAc,KAAKC,SAAS,GACvCnB,CAAC,CAACoB,KAAK,GACLd,KAAA,CAAChC,OAAO;IACN+B,GAAG,EAAEL,CAAC,CAACK,GAAI;IACXgB,KAAK,EACHf,KAAA,cACGN,CAAC,CAACI,IAAI,OAAGJ,CAAC,CAACqB,KAAK;EAEpB,GAEArB,CAAC,CAACoB,KAAK,CAACtB,GAAG,CAAEC,CAAC,IACbE,WAAW,CACR,IAAGD,CAAC,CAACK,GAAI,IAAGN,CAAC,CAACM,GAAI,EAAC,EACpBN,CAAC,CAACsB,KAAK,EACPtB,CAAC,CAACK,IAAI,EACL,GAAEJ,CAAC,CAACK,GAAI,IAAGN,CAAC,CAACM,GAAI,EAAC,CACpB,CACF,CACO,GAEVJ,WAAW,CACTD,CAAC,CAACK,GAAG,KAAK,GAAG,GAAI,IAAGL,CAAC,CAACK,GAAI,EAAC,GAAG,GAAG,EACjCL,CAAC,CAACqB,KAAK,EACPrB,CAAC,CAACI,IAAI,EACL,GAAEJ,CAAC,CAACK,GAAI,EAAC,CAEb,GACC,IAAI,CACT,CAEJ;EAED,MAAMiB,MAAM,GACVhB,KAAA;IAAKS,SAAS,EAAC;EAAkC,GAC/CT,KAAA;IAAKS,SAAS,EAAC;EAAmB,GAC/BrC,KAAK,GAAG,GAAG,GACV4B,KAAA,CAAC1C,KAAK,CAAC2D,QAAQ,QACbjB,KAAA;IAAKS,SAAS,EAAC;EAAiC,GAC9CT,KAAA,CAACtC,YAAY;IACXyC,KAAK,EAAE;MAAEe,QAAQ,EAAE;IAAS,CAAE;IAC9BC,OAAO,EAAEA,CAAA,KAAMhC,iBAAiB,CAAC,IAAI;EAAE,EACvC,CACE,EACNa,KAAA;IAAKS,SAAS,EAAC;EAA+B,GAC5CT,KAAA;IACEU,GAAG,EAAC,6BAA6B;IACjCP,KAAK,EAAE;MAAE7B,MAAM,EAAE;IAAM,CAAE;IACzBqC,GAAG,EAAC;EAAU,EACd,CACE,CACS,GACf,IAAI,CACJ,EACNX,KAAA,CAAClC,MAAM;IACLsD,SAAS,EAAC,MAAM;IAChBC,QAAQ;IACRC,OAAO,EAAEA,CAAA,KAAMnC,iBAAiB,CAAC,KAAK,CAAE;IACxCoC,OAAO,EAAErC,cAAe;IACxBsC,SAAS,EAAE;MAAEC,OAAO,EAAE;IAAE;EAAE,GAEzBpB,IAAI,CACE,CAEZ;EAED,OAAOjC,KAAK,GAAG,GAAG,GAChB4B,KAAA,CAACnC,MAAM,QACLmC,KAAA,CAAC/B,KAAK;IACJkC,KAAK,EAAE;MACLuB,QAAQ,EAAE,MAAM;MAChBpD,MAAM,EAAE,OAAO;MACfqD,QAAQ,EAAE,OAAO;MACjBC,IAAI,EAAE;IACR,CAAE;IACFxD,KAAK,EAAE;EAAI,GAEViC,IAAI,CACC,EACRL,KAAA,CAACnC,MAAM;IAACsC,KAAK,EAAE;MAAE0B,UAAU,EAAE;IAAI;EAAE,GAAE7C,QAAQ,CAAU,CAChD,GAETgB,KAAA,cACGgB,MAAM,EACPhB,KAAA;IAAKS,SAAS,EAAC;EAAgB,GAAEzB,QAAQ,CAAO,CAEnD;AACH,CAAC;AAEDF,OAAO,CAACgD,SAAS,GAAG;EAClB7C,OAAO,EAAEtB,SAAS,CAACoE,IAAI;EACvB/C,QAAQ,EAAErB,SAAS,CAACqE,IAAI;EACxBjD,QAAQ,EAAEpB,SAAS,CAACsE;AACtB,CAAC;AAED,eAAenD,OAAO"},"metadata":{},"sourceType":"module"}