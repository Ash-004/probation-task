{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { MenuOutlined } from '@ant-design/icons';\nimport PropTypes from 'prop-types';\n\n// antd components\nimport Menu from 'antd/lib/menu';\nimport Layout from 'antd/lib/layout';\nimport Drawer from 'antd/lib/drawer';\nimport { links } from './links';\nvar SubMenu = Menu.SubMenu;\nvar Sider = Layout.Sider;\nfunction getWindowDimensions() {\n  var _window = window,\n    width = _window.innerWidth,\n    height = _window.innerHeight;\n  return {\n    width: width,\n    height: height\n  };\n}\nfunction useWindowDimensions() {\n  _s();\n  var _useState = useState(getWindowDimensions()),\n    windowDimensions = _useState[0],\n    setWindowDimensions = _useState[1];\n  useEffect(function () {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n    }\n    window.addEventListener('resize', handleResize);\n    return function () {\n      return window.removeEventListener('resize', handleResize);\n    };\n  }, []);\n  return windowDimensions;\n}\n_s(useWindowDimensions, \"XalQq70mIWrnM+6Jr3XornfayDc=\");\nvar Sidebar = function Sidebar(_ref) {\n  _s2();\n  var selected = _ref.selected,\n    children = _ref.children,\n    isAdmin = _ref.isAdmin;\n  var _useState2 = useState(false),\n    sidebarVisible = _useState2[0],\n    setSidebarVisible = _useState2[1];\n  var _useWindowDimensions = useWindowDimensions(),\n    width = _useWindowDimensions.width;\n  var selectedKeys = selected ? selected.slice(1).split('/') : [];\n  selectedKeys.length > 0 ? selectedKeys = selectedKeys.map(function (e, i) {\n    if (i !== 0) {\n      return selectedKeys[i - 1] + '-' + e;\n    }\n    return e;\n  }) : [];\n  var getMenuItem = function getMenuItem(link, label, icon, key) {\n    return __jsx(Menu.Item, {\n      key: key\n    }, __jsx(Link, {\n      href: link\n    }, __jsx(\"a\", {\n      style: {\n        textDecoration: 'none'\n      }\n    }, icon, \" \", label)));\n  };\n  var menu = __jsx(Menu, {\n    mode: \"inline\",\n    selectedKeys: selectedKeys,\n    defaultOpenKeys: selectedKeys,\n    style: {\n      height: '100vh'\n    },\n    theme: \"dark\"\n  }, __jsx(\"div\", {\n    className: \"text-center my-4\"\n  }, __jsx(\"img\", {\n    src: \"/static/images/cms_logo.png\",\n    style: {\n      width: '80%'\n    },\n    alt: \"CMS Logo\"\n  })), links.map(function (i) {\n    return isAdmin || i.adminExclusive === undefined ? i.items ? __jsx(SubMenu, {\n      key: i.key,\n      title: __jsx(\"div\", null, i.icon, \" \", i.title)\n    }, i.items.map(function (e) {\n      return getMenuItem(\"/\".concat(i.key, \"/\").concat(e.key), e.title, e.icon, \"\".concat(i.key, \"-\").concat(e.key));\n    })) : getMenuItem(i.key !== '/' ? \"/\".concat(i.key) : '/', i.title, i.icon, \"\".concat(i.key)) : null;\n  }));\n  var navbar = __jsx(\"div\", {\n    className: \"navbar navbar-light bg-light p-2\"\n  }, __jsx(\"div\", {\n    className: \"row m-0 w-100 p-2\"\n  }, width < 600 ? __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"col-2 d-flex align-items-center\"\n  }, __jsx(MenuOutlined, {\n    style: {\n      fontSize: '1.5rem'\n    },\n    onClick: function onClick() {\n      return setSidebarVisible(true);\n    }\n  })), __jsx(\"div\", {\n    className: \"col d-flex align-items-center\"\n  }, __jsx(\"img\", {\n    src: \"/static/images/cms_logo.png\",\n    style: {\n      height: '5vh'\n    },\n    alt: \"CMS Logo\"\n  }))) : null), __jsx(Drawer, {\n    placement: \"left\",\n    closable: true,\n    onClose: function onClose() {\n      return setSidebarVisible(false);\n    },\n    visible: sidebarVisible,\n    bodyStyle: {\n      padding: 0\n    }\n  }, menu));\n  return width > 600 ? __jsx(Layout, null, __jsx(Sider, {\n    style: {\n      overflow: 'auto',\n      height: '100vh',\n      position: 'fixed',\n      left: 0\n    },\n    width: 230\n  }, menu), __jsx(Layout, {\n    style: {\n      marginLeft: 230\n    }\n  }, children)) : __jsx(\"div\", null, navbar, __jsx(\"div\", {\n    className: \"page-container\"\n  }, children));\n};\n_s2(Sidebar, \"6d1E3dP+kF9cdmpfPC95dY4P3DQ=\", false, function () {\n  return [useWindowDimensions];\n});\n_c = Sidebar;\nSidebar.propTypes = {\n  isAdmin: PropTypes.bool,\n  children: PropTypes.node,\n  selected: PropTypes.string\n};\nexport default Sidebar;\nvar _c;\n$RefreshReg$(_c, \"Sidebar\");","map":{"version":3,"names":["React","useState","useEffect","Link","MenuOutlined","PropTypes","Menu","Layout","Drawer","links","SubMenu","Sider","getWindowDimensions","_window","window","width","innerWidth","height","innerHeight","useWindowDimensions","_s","_useState","windowDimensions","setWindowDimensions","handleResize","addEventListener","removeEventListener","Sidebar","_ref","_s2","selected","children","isAdmin","_useState2","sidebarVisible","setSidebarVisible","_useWindowDimensions","selectedKeys","slice","split","length","map","e","i","getMenuItem","link","label","icon","key","__jsx","Item","href","style","textDecoration","menu","mode","defaultOpenKeys","theme","className","src","alt","adminExclusive","undefined","items","title","concat","navbar","Fragment","fontSize","onClick","placement","closable","onClose","visible","bodyStyle","padding","overflow","position","left","marginLeft","_c","propTypes","bool","node","string","$RefreshReg$"],"sources":["/home/ash/react projects/amFOSS-webapp/components/sidebar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { MenuOutlined } from '@ant-design/icons';\nimport PropTypes from 'prop-types';\n\n// antd components\nimport Menu from 'antd/lib/menu';\nimport Layout from 'antd/lib/layout';\nimport Drawer from 'antd/lib/drawer';\n\nimport { links } from './links';\n\nconst { SubMenu } = Menu;\nconst { Sider } = Layout;\n\nfunction getWindowDimensions() {\n  const { innerWidth: width, innerHeight: height } = window;\n  return {\n    width,\n    height,\n  };\n}\n\nfunction useWindowDimensions() {\n  const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n    }\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  return windowDimensions;\n}\n\nconst Sidebar = ({ selected, children, isAdmin }) => {\n  const [sidebarVisible, setSidebarVisible] = useState(false);\n  const { width } = useWindowDimensions();\n\n  let selectedKeys = selected ? selected.slice(1).split('/') : [];\n  selectedKeys.length > 0\n    ? (selectedKeys = selectedKeys.map((e, i) => {\n        if (i !== 0) {\n          return selectedKeys[i - 1] + '-' + e;\n        }\n        return e;\n      }))\n    : [];\n\n  const getMenuItem = (link, label, icon, key) => (\n    <Menu.Item key={key}>\n      <Link href={link}>\n        <a style={{ textDecoration: 'none' }}>\n          {icon} {label}\n        </a>\n      </Link>\n    </Menu.Item>\n  );\n\n  const menu = (\n    <Menu\n      mode=\"inline\"\n      selectedKeys={selectedKeys}\n      defaultOpenKeys={selectedKeys}\n      style={{ height: '100vh' }}\n      theme=\"dark\"\n    >\n      <div className=\"text-center my-4\">\n        <img\n          src=\"/static/images/cms_logo.png\"\n          style={{ width: '80%' }}\n          alt=\"CMS Logo\"\n        />\n      </div>\n      {links.map((i) =>\n        isAdmin || i.adminExclusive === undefined ? (\n          i.items ? (\n            <SubMenu\n              key={i.key}\n              title={\n                <div>\n                  {i.icon} {i.title}\n                </div>\n              }\n            >\n              {i.items.map((e) =>\n                getMenuItem(\n                  `/${i.key}/${e.key}`,\n                  e.title,\n                  e.icon,\n                  `${i.key}-${e.key}`\n                )\n              )}\n            </SubMenu>\n          ) : (\n            getMenuItem(\n              i.key !== '/' ? `/${i.key}` : '/',\n              i.title,\n              i.icon,\n              `${i.key}`\n            )\n          )\n        ) : null\n      )}\n    </Menu>\n  );\n\n  const navbar = (\n    <div className=\"navbar navbar-light bg-light p-2\">\n      <div className=\"row m-0 w-100 p-2\">\n        {width < 600 ? (\n          <React.Fragment>\n            <div className=\"col-2 d-flex align-items-center\">\n              <MenuOutlined\n                style={{ fontSize: '1.5rem' }}\n                onClick={() => setSidebarVisible(true)}\n              />\n            </div>\n            <div className=\"col d-flex align-items-center\">\n              <img\n                src=\"/static/images/cms_logo.png\"\n                style={{ height: '5vh' }}\n                alt=\"CMS Logo\"\n              />\n            </div>\n          </React.Fragment>\n        ) : null}\n      </div>\n      <Drawer\n        placement=\"left\"\n        closable\n        onClose={() => setSidebarVisible(false)}\n        visible={sidebarVisible}\n        bodyStyle={{ padding: 0 }}\n      >\n        {menu}\n      </Drawer>\n    </div>\n  );\n\n  return width > 600 ? (\n    <Layout>\n      <Sider\n        style={{\n          overflow: 'auto',\n          height: '100vh',\n          position: 'fixed',\n          left: 0,\n        }}\n        width={230}\n      >\n        {menu}\n      </Sider>\n      <Layout style={{ marginLeft: 230 }}>{children}</Layout>\n    </Layout>\n  ) : (\n    <div>\n      {navbar}\n      <div className=\"page-container\">{children}</div>\n    </div>\n  );\n};\n\nSidebar.propTypes = {\n  isAdmin: PropTypes.bool,\n  children: PropTypes.node,\n  selected: PropTypes.string,\n};\n\nexport default Sidebar;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}