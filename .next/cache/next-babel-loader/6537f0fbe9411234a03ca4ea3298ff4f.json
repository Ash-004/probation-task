{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport classnames from 'classnames';\nimport { Bar } from 'react-chartjs-2';\nimport PropTypes from 'prop-types';\n\n// antd components\nimport Card from 'antd/lib/card';\nconst TrendStatusGraph = ({\n  isLoaded,\n  data\n}) => {\n  const x2019 = [];\n  const y2019 = [];\n  const x2018 = [];\n  const y2018 = [];\n  const x2017 = [];\n  const y2017 = [];\n  const x2016 = [];\n  const y2016 = [];\n  data.map(d => {\n    if (d.user.admissionYear === 2021) {\n      x2019.push(d.statusCount);\n      y2019.push(d.user.username);\n    } else if (d.user.admissionYear === 2020) {\n      x2018.push(d.statusCount);\n      y2018.push(d.user.username);\n    } else if (d.user.admissionYear === 2019) {\n      x2017.push(d.statusCount);\n      y2017.push(d.user.username);\n    } else {\n      x2016.push(d.statusCount);\n      y2016.push(d.user.username);\n    }\n  });\n  const {\n    0: year,\n    1: setYear\n  } = useState('2021');\n  let graph = {\n    data: canvas => {\n      let ctx = canvas.getContext('2d');\n      let gradientStroke = ctx.createLinearGradient(0, 230, 0, 50);\n      gradientStroke.addColorStop(1, 'rgba(29,140,248,0.2)');\n      gradientStroke.addColorStop(0.4, 'rgba(29,140,248,0.0)');\n      gradientStroke.addColorStop(0, 'rgba(29,140,248,0)');\n      return {\n        labels: year === '2021' ? y2019 : year === '2020' ? y2018 : year === '2019' ? y2017 : y2016,\n        datasets: [{\n          label: 'Status Updates Sent',\n          fill: true,\n          backgroundColor: '#1f8ef1',\n          hoverBackgroundColor: gradientStroke,\n          borderColor: '#1f8ef1',\n          borderWidth: 2,\n          borderDash: [],\n          borderDashOffset: 0.0,\n          data: year === '2021' ? x2019 : year === '2020' ? x2018 : year === '2019' ? x2017 : x2016\n        }]\n      };\n    },\n    options: {\n      maintainAspectRatio: false,\n      legend: {\n        display: false\n      },\n      tooltips: {\n        backgroundColor: '#f5f5f5',\n        titleFontColor: '#333',\n        bodyFontColor: '#666',\n        bodySpacing: 4,\n        xPadding: 12,\n        mode: 'nearest',\n        intersect: 0,\n        position: 'nearest'\n      },\n      responsive: true,\n      scales: {\n        yAxes: [{\n          gridLines: {\n            drawBorder: false,\n            color: 'rgba(29,140,248,0.0)',\n            zeroLineColor: 'transparent'\n          },\n          ticks: {\n            suggestedMin: 0,\n            suggestedMax: 5,\n            padding: 20,\n            fontColor: '#9a9a9a'\n          }\n        }],\n        xAxes: [{\n          gridLines: {\n            drawBorder: false,\n            color: 'rgba(225,78,202,0.1)',\n            zeroLineColor: 'transparent'\n          },\n          ticks: {\n            padding: 20,\n            fontColor: '#9e9e9e'\n          }\n        }]\n      }\n    }\n  };\n  return __jsx(Card, null, __jsx(\"div\", {\n    className: \"row m-0\"\n  }, __jsx(\"div\", {\n    className: \"col-md-10\"\n  }, __jsx(\"h5\", {\n    className: \"mb-4 bp3-heading\"\n  }, \"Member Status Update Trends\")), __jsx(\"div\", {\n    className: \"col text-right p-3\"\n  }, __jsx(\"select\", {\n    style: {\n      width: '100%',\n      height: '4vh'\n    },\n    onChange: e => setYear(e.currentTarget.value)\n  }, __jsx(\"option\", {\n    value: \"2021\",\n    selected: true\n  }, \"2021\"), __jsx(\"option\", {\n    value: \"2020\"\n  }, \"2020\"), __jsx(\"option\", {\n    value: \"2019\"\n  }, \"2019\"), __jsx(\"option\", {\n    value: \"2018\"\n  }, \"2018\")))), __jsx(\"div\", {\n    className: classnames(!isLoaded ? 'bp3-skeleton' : null),\n    style: {\n      padding: '5px',\n      width: '100%',\n      height: '50vh'\n    }\n  }, isLoaded ? __jsx(Bar, {\n    data: graph.data,\n    options: graph.options\n  }) : null));\n};\nTrendStatusGraph.propTypes = {\n  data: PropTypes.object,\n  isLoaded: PropTypes.bool\n};\nexport default TrendStatusGraph;","map":{"version":3,"names":["React","useState","classnames","Bar","PropTypes","Card","TrendStatusGraph","isLoaded","data","x2019","y2019","x2018","y2018","x2017","y2017","x2016","y2016","map","d","user","admissionYear","push","statusCount","username","year","setYear","graph","canvas","ctx","getContext","gradientStroke","createLinearGradient","addColorStop","labels","datasets","label","fill","backgroundColor","hoverBackgroundColor","borderColor","borderWidth","borderDash","borderDashOffset","options","maintainAspectRatio","legend","display","tooltips","titleFontColor","bodyFontColor","bodySpacing","xPadding","mode","intersect","position","responsive","scales","yAxes","gridLines","drawBorder","color","zeroLineColor","ticks","suggestedMin","suggestedMax","padding","fontColor","xAxes","__jsx","className","style","width","height","onChange","e","currentTarget","value","selected","propTypes","object","bool"],"sources":["/home/ash/react projects/amFOSS-webapp/modules/statusUpdates/components/TrendStatusGraph.js"],"sourcesContent":["import React, { useState } from 'react';\nimport classnames from 'classnames';\nimport { Bar } from 'react-chartjs-2';\nimport PropTypes from 'prop-types';\n\n// antd components\nimport Card from 'antd/lib/card';\n\nconst TrendStatusGraph = ({ isLoaded, data }) => {\n  const x2019 = [];\n  const y2019 = [];\n  const x2018 = [];\n  const y2018 = [];\n  const x2017 = [];\n  const y2017 = [];\n  const x2016 = [];\n  const y2016 = [];\n\n  data.map((d) => {\n    if (d.user.admissionYear === 2021) {\n      x2019.push(d.statusCount);\n      y2019.push(d.user.username);\n    } else if (d.user.admissionYear === 2020) {\n      x2018.push(d.statusCount);\n      y2018.push(d.user.username);\n    } else if (d.user.admissionYear === 2019) {\n      x2017.push(d.statusCount);\n      y2017.push(d.user.username);\n    } else {\n      x2016.push(d.statusCount);\n      y2016.push(d.user.username);\n    }\n  });\n  const [year, setYear] = useState('2021');\n  let graph = {\n    data: (canvas) => {\n      let ctx = canvas.getContext('2d');\n\n      let gradientStroke = ctx.createLinearGradient(0, 230, 0, 50);\n\n      gradientStroke.addColorStop(1, 'rgba(29,140,248,0.2)');\n      gradientStroke.addColorStop(0.4, 'rgba(29,140,248,0.0)');\n      gradientStroke.addColorStop(0, 'rgba(29,140,248,0)');\n\n      return {\n        labels:\n          year === '2021'\n            ? y2019\n            : year === '2020'\n            ? y2018\n            : year === '2019'\n            ? y2017\n            : y2016,\n        datasets: [\n          {\n            label: 'Status Updates Sent',\n            fill: true,\n            backgroundColor: '#1f8ef1',\n            hoverBackgroundColor: gradientStroke,\n            borderColor: '#1f8ef1',\n            borderWidth: 2,\n            borderDash: [],\n            borderDashOffset: 0.0,\n            data:\n              year === '2021'\n                ? x2019\n                : year === '2020'\n                ? x2018\n                : year === '2019'\n                ? x2017\n                : x2016,\n          },\n        ],\n      };\n    },\n    options: {\n      maintainAspectRatio: false,\n      legend: {\n        display: false,\n      },\n      tooltips: {\n        backgroundColor: '#f5f5f5',\n        titleFontColor: '#333',\n        bodyFontColor: '#666',\n        bodySpacing: 4,\n        xPadding: 12,\n        mode: 'nearest',\n        intersect: 0,\n        position: 'nearest',\n      },\n      responsive: true,\n      scales: {\n        yAxes: [\n          {\n            gridLines: {\n              drawBorder: false,\n              color: 'rgba(29,140,248,0.0)',\n              zeroLineColor: 'transparent',\n            },\n            ticks: {\n              suggestedMin: 0,\n              suggestedMax: 5,\n              padding: 20,\n              fontColor: '#9a9a9a',\n            },\n          },\n        ],\n        xAxes: [\n          {\n            gridLines: {\n              drawBorder: false,\n              color: 'rgba(225,78,202,0.1)',\n              zeroLineColor: 'transparent',\n            },\n            ticks: {\n              padding: 20,\n              fontColor: '#9e9e9e',\n            },\n          },\n        ],\n      },\n    },\n  };\n  return (\n    <Card>\n      <div className=\"row m-0\">\n        <div className=\"col-md-10\">\n          <h5 className=\"mb-4 bp3-heading\">Member Status Update Trends</h5>\n        </div>\n        <div className=\"col text-right p-3\">\n          <select\n            style={{ width: '100%', height: '4vh' }}\n            onChange={(e) => setYear(e.currentTarget.value)}\n          >\n            <option value=\"2021\" selected>\n              2021\n            </option>\n            <option value=\"2020\">2020</option>\n            <option value=\"2019\">2019</option>\n            <option value=\"2018\">2018</option>\n          </select>\n        </div>\n      </div>\n      <div\n        className={classnames(!isLoaded ? 'bp3-skeleton' : null)}\n        style={{ padding: '5px', width: '100%', height: '50vh' }}\n      >\n        {isLoaded ? <Bar data={graph.data} options={graph.options} /> : null}\n      </div>\n    </Card>\n  );\n};\n\nTrendStatusGraph.propTypes = {\n  data: PropTypes.object,\n  isLoaded: PropTypes.bool,\n};\n\nexport default TrendStatusGraph;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}